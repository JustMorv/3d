{"version":3,"file":"three-dragger.esm.js","sources":["../node_modules/eventemitter3/index.js","../src/utils.js","../src/MouseDragger.js"],"sourcesContent":["'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import {\r\n  Vector2\r\n} from 'three';\r\n\r\nconst isFunction = (object) => (typeof object === 'function');\r\nconst isEmptyArray = (object) => (Array.isArray(object) && object.length === 0);\r\n\r\n/**\r\n * Normalize a number to [-1,1]\r\n * @param {Number} number\r\n * @return {Number}\r\n */\r\nconst normalize = (number) => {\r\n  if (number < -1) {\r\n    return -1;\r\n  } else if (number > 1) {\r\n    return 1;\r\n  } else {\r\n    return number;\r\n  }\r\n};\r\n\r\n/**\r\n * Calculate normalized device coordinates of the mouse\r\n * @param {MouseEvent} event\r\n * @param {Element} container\r\n * @return {Vector2}\r\n */\r\nconst getMouseNDCPosition = (event, container) => {\r\n  const rect = {\r\n    left: 0,\r\n    top: 0,\r\n    width: window.innerWidth,\r\n    height: window.innerHeight\r\n  };\r\n  // the container is Element type\r\n  if (container && isFunction(container.getBoundingClientRect)) {\r\n    Object.assign(rect, container.getBoundingClientRect());\r\n  }\r\n  const {\r\n    left,\r\n    top,\r\n    width,\r\n    height\r\n  } = rect;\r\n  if (event.clientX === undefined || event.clientY === undefined) {\r\n    console.warn(`${event} is not a standard DOM event, which misses clientX and clientY`); // eslint-disable-line no-console\r\n  }\r\n  // relative to the viewport -> relative to the container\r\n  const clientX = event.clientX - left;\r\n  const clientY = event.clientY - top;\r\n  // calculate normalized device coordinates\r\n  const x = (clientX / width) * 2 - 1;\r\n  const y = -(clientY / height) * 2 + 1;\r\n  return new Vector2(normalize(x), normalize(y));\r\n};\r\n\r\nexport {\r\n  isEmptyArray,\r\n  normalize,\r\n  getMouseNDCPosition\r\n};\r\n","import {\r\n  Plane,\r\n  Raycaster,\r\n  Vector2,\r\n  Vector3\r\n} from 'three';\r\nimport EventEmitter from 'eventemitter3';\r\nimport {\r\n  getMouseNDCPosition,\r\n  isEmptyArray\r\n} from './utils';\r\n\r\nconst MOUSE = {\r\n  LEFT: 0,\r\n  MIDDLE: 1,\r\n  RIGHT: 2\r\n};\r\n\r\nclass MouseDragger extends EventEmitter {\r\n  /**\r\n   * Constructor\r\n   * @param {[Object3D]} objects - draggable objects\r\n   * @param {Camera} camera - camera\r\n   * @param {Element} domElement - canvas element\r\n   */\r\n  constructor(objects, camera, domElement) {\r\n    super();\r\n\r\n    this.objects = objects;\r\n    this.camera = camera;\r\n    this.domElement = domElement;\r\n\r\n    this.mouse = new Vector2(); // normalized device coordinates of the mouse\r\n    this.selected = null; // selected object\r\n    this.offset = new Vector3(); // offset between the mouse and the center of selected object\r\n    this.plane = new Plane(); // plane of the selected object, which is perpendicular to the camera's world space direction\r\n\r\n    this.raycaster = new Raycaster();\r\n    this.intersection = new Vector3();\r\n\r\n    this.dragging = false;\r\n    this.enabled = true;\r\n\r\n    this.attachEvents();\r\n  }\r\n\r\n  /**\r\n   * Update draggable objects\r\n   * @param {[Object3D]} objects\r\n   */\r\n  update(objects) {\r\n    this.objects = objects;\r\n  }\r\n\r\n  /**\r\n   * Reset\r\n   */\r\n  reset() {\r\n    const self = this;\r\n    self.enabled = true;\r\n  }\r\n\r\n  /**\r\n   * Dispose\r\n   */\r\n  dispose() {\r\n    this.detachEvents();\r\n  }\r\n\r\n  /**\r\n   * Attach events\r\n   */\r\n  attachEvents() {\r\n    const self = this;\r\n    document.addEventListener('mousedown', self.onDocumentMouseDown, false);\r\n    document.addEventListener('mousemove', self.onDocumentMouseMove, false);\r\n    document.addEventListener('mouseup', self.onDocumentMouseUp, false);\r\n  }\r\n\r\n  /**\r\n   * Detach events\r\n   */\r\n  detachEvents() {\r\n    const self = this;\r\n    document.removeEventListener('mousedown', self.onDocumentMouseDown, false);\r\n    document.removeEventListener('mousemove', self.onDocumentMouseMove, false);\r\n    document.removeEventListener('mouseup', self.onDocumentMouseUp, false);\r\n  }\r\n\r\n  /**\r\n   * Determine whether the mouse is contained in the canvas element\r\n   * @param {MouseEvent} event\r\n   */\r\n  containsMousePoint(event) {\r\n    const self = this;\r\n    if (!self.domElement.getBoundingClientRect) {\r\n      return true;\r\n    }\r\n    const {\r\n      top,\r\n      right,\r\n      bottom,\r\n      left\r\n    } = self.domElement.getBoundingClientRect();\r\n    const {\r\n      clientX,\r\n      clientY\r\n    } = event;\r\n    // outside of the canvas element\r\n    if (clientX < left || clientX > right || clientY < top || clientY > bottom) {\r\n      return false;\r\n    }\r\n    // inside\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Ray cast\r\n   * @param {Vector2} mouse - coordinates of the mouse\r\n   * @returns {Object3D|null} - intersected object\r\n   */\r\n  rayCast(mouse) {\r\n    const self = this;\r\n    if (isEmptyArray(self.objects)) {\r\n      return null;\r\n    }\r\n    self.raycaster.setFromCamera(mouse, self.camera);\r\n    const intersects = self.raycaster.intersectObjects(self.objects, true);\r\n    if (intersects.length > 0) {\r\n      return intersects[0].object;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Emit event\r\n   * @param {string} eventName - event name\r\n   * @param {Object3D} target - intersected object\r\n   * @param {Vector3} position - position of the intersected object\r\n   * @param {Event} domEvent - DOM event\r\n   */\r\n  emitEvent(eventName, target, position, domEvent) {\r\n    const self = this;\r\n    super.emit(eventName, {\r\n      target: target,\r\n      mouse: self.mouse,\r\n      position: position,\r\n      event: domEvent\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Press the left mouse button\r\n   * @param {MouseEvent} event\r\n   */\r\n  onDocumentMouseDown = (event) => {\r\n    const self = this;\r\n    if (!self.enabled) {\r\n      return;\r\n    }\r\n    if (!self.containsMousePoint(event)) {\r\n      return;\r\n    }\r\n    if (event.button === MOUSE.LEFT) {\r\n      event.preventDefault();\r\n\r\n      const mouse = getMouseNDCPosition(event, self.domElement);\r\n      const current = self.rayCast(mouse) || null;\r\n\r\n      self.mouse = mouse;\r\n      self.selected = current;\r\n      self.emitEvent('mousedown', current, null, event);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Move the mouse\r\n   * @param {MouseEvent} event\r\n   */\r\n  onDocumentMouseMove = (event) => {\r\n    const self = this;\r\n    if (!self.enabled) {\r\n      return;\r\n    }\r\n    event.preventDefault();\r\n\r\n    if (self.selected) {\r\n      const mouse = getMouseNDCPosition(event, self.domElement);\r\n\r\n      // the NDC is not changed\r\n      if (mouse.equals(self.mouse)) {\r\n        return;\r\n      }\r\n\r\n      // Update mouse's coordinates\r\n      self.mouse = mouse;\r\n\r\n      // Begin to drag the object\r\n      if (self.dragging === false) {\r\n        // Create a plane with the camera's world space direction (as a normal) and a coplanar point\r\n        var camerasWorldDirection = new Vector3();\r\n        self.camera.getWorldDirection(camerasWorldDirection);\r\n        self.plane.setFromNormalAndCoplanarPoint(camerasWorldDirection, self.selected.position); // Calculate the offset between the mouse and the center of the selected object\r\n\r\n        // Calculate the offset between the mouse and the center of the selected object\r\n        self.raycaster.setFromCamera(self.mouse, self.camera);\r\n        self.raycaster.ray.intersectPlane(self.plane, self.intersection);\r\n        self.offset.copy(self.intersection).sub(self.selected.position);\r\n\r\n        self.domElement.style.cursor = 'move';\r\n        self.emitEvent('dragstart', self.selected, self.selected.position.clone(), event);\r\n        self.dragging = true;\r\n      }\r\n\r\n      // Calculate the intersection of the plane and the ray\r\n      self.raycaster.setFromCamera(self.mouse, self.camera);\r\n      self.raycaster.ray.intersectPlane(self.plane, self.intersection);\r\n\r\n      // Subtract the offset before emit world coordinates\r\n      self.emitEvent('drag', self.selected, self.intersection.sub(self.offset).clone(), event);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Release the left mouse button\r\n   * @param {MouseEvent} event\r\n   */\r\n  onDocumentMouseUp = (event) => {\r\n    const self = this;\r\n    if (!self.enabled) {\r\n      return;\r\n    }\r\n    if (event.button === MOUSE.LEFT) {\r\n      event.preventDefault();\r\n\r\n      // Dargging\r\n      if (self.dragging && self.selected) {\r\n        self.domElement.style.cursor = 'auto';\r\n        self.emitEvent('dragend', self.selected, self.intersection.clone(), event);\r\n        self.selected = null;\r\n        self.dragging = false;\r\n        return;\r\n      }\r\n\r\n      self.selected = null;\r\n      self.dragging = false;\r\n\r\n      // No dragging\r\n      if (self.containsMousePoint(event)) {\r\n        self.emitEvent('mouseup', null, null, event);\r\n        self.emitEvent('click', null, null, event);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nexport default MouseDragger;\r\n"],"names":["isFunction","object","isEmptyArray","Array","isArray","length","normalize","number","getMouseNDCPosition","event","container","rect","left","top","width","window","innerWidth","height","innerHeight","getBoundingClientRect","Object","assign","clientX","undefined","clientY","console","warn","concat","x","y","Vector2","MOUSE","LEFT","MIDDLE","RIGHT","MouseDragger","_EventEmitter","objects","camera","domElement","_this","_classCallCheck","_callSuper","_defineProperty","self","enabled","containsMousePoint","button","preventDefault","mouse","current","rayCast","selected","emitEvent","equals","dragging","camerasWorldDirection","Vector3","getWorldDirection","plane","setFromNormalAndCoplanarPoint","position","raycaster","setFromCamera","ray","intersectPlane","intersection","offset","copy","sub","style","cursor","clone","Plane","Raycaster","attachEvents","_inherits","_createClass","key","value","update","reset","dispose","detachEvents","document","addEventListener","onDocumentMouseDown","onDocumentMouseMove","onDocumentMouseUp","removeEventListener","_self$domElement$getB","right","bottom","intersects","intersectObjects","eventName","target","domEvent","_superPropGet","EventEmitter"],"mappings":"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"}